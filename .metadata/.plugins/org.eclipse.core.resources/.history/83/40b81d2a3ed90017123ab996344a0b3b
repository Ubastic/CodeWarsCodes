//Solution for https://www.codewars.com/kata/getting-along-with-integer-partitions/train/java
import java.util.Comparator;
import java.util.Arrays;
import java.util.ArrayList;

public class IntPart {
	
	public static String part(long n) {
		ArrayList<ArrayList<String>> array = new ArrayList<ArrayList<String>>((int)n+1);
		for(int q = 0; q <= (int) n; q++)
			array.add(new ArrayList<String>(0));
		ArrayList<String> enumZero = new ArrayList<String>(1);
		enumZero.add("");
		array.add(0,enumZero);
		for(int i = 1; i <= n; i++)
			for(int j = 1; j <= i; j++)
				for(int k = 0; k < (array.get(i-j)).size(); k++){
					//break apart string and add #
					String s = (array.get(i-j)).get(k);
					if(s.equals(""))
						s += Integer.toString(j);
					else
						s += "," + Integer.toString(j);
					String[] parts = s.split(",");
					//Sort parts
					Arrays.sort(parts);
					//put parts back together into array
					String tempB = parts[0];
					for(int m = 1; m < parts.length; m++)
						tempB += "," + parts[m];
					//If you don't find tempB in the array add to array and sort
					if(!(array.get(i)).contains(tempB)){
						(array.get(i)).add(tempB);
						//(array.get(i)).sort(new StringComparator());
					}
				}
		//printArray(array, (int)n + 1);
		//System.out.println((array.get((int)n)).size());
		ArrayList<Integer> prod = new ArrayList<Integer>(0);
		for(int i = 0; i < (array.get((int)n)).size(); i++){
			String str = (array.get((int)n)).get(i);
			String[] strParts = str.split(",");
			int tempProd = 1;
			for(int j = 0; j < strParts.length; j++)
				tempProd *= Integer.parseInt(strParts[j]);
			if(!prod.contains(tempProd))
				prod.add(tempProd);
		}
		int[] prodArray = new int[prod.size()];
		for(int i = 0; i < prod.size(); i++)
			prodArray[i] = prod.get(i);
		Arrays.sort(prodArray);
		int range = prodArray[prodArray.length - 1] - prodArray[0];
		float sum = 0;
		for(int i = 0; i < prodArray.length; i++)
			sum += prodArray[i];
		float average = sum / prodArray.length;
		average = (float) ((Math.ceil((double)average * 100)) / 100);
		float median;
		if(prodArray.length % 2 == 1)
			median = prodArray[prodArray.length / 2];
		else{
			int a = prodArray[(prodArray.length / 2) - 1];
			int b = prodArray[prodArray.length / 2];
			median = ((float) ((float)a + (float)b) )/ 2;
		}
		return "Range: " + range + " Average: " + String.format("%.2f", average) + " Median: " + String.format("%.2f", median);
	}
	
	public static void printArray(ArrayList<ArrayList<String>> arr, int n){
		for(int i = 0; i < n; i++){
			System.out.println("Enum of " + i);
			for(int j = 0; j < (arr.get(i)).size(); j++)
				System.out.println((arr.get(i)).get(j));
			System.out.println("\n");
		}
	}
	
	public static void printProd(ArrayList<Integer> arr){
		for(int i = 0; i < arr.size(); i++){
			System.out.println(arr.get(i));
		}
	}
}

